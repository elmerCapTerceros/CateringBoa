<div class="flex-auto p-6">
    <h2 class="text-2xl font-bold mb-6">Registrar Nueva Aeronave</h2>

    <form [formGroup]="aeronaveForm" (ngSubmit)="guardarAeronave()">

        <mat-card class="mb-9">
            <mat-card-content class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Matrícula</mat-label>
                        <input matInput
                               formControlName="matricula"
                               placeholder="Ej: CP-3010"
                               class="uppercase">
                        <mat-icon matSuffix>badge</mat-icon>
                        <mat-error *ngIf="aeronaveForm.get('matricula')?.touched">
                            {{ getErrorMessage('matricula') }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Modelo</mat-label>
                        <input matInput formControlName="modelo">
                        <mat-icon matSuffix>airplanemode_active</mat-icon>
                        <mat-error *ngIf="aeronaveForm.get('modelo')?.touched">
                            {{ getErrorMessage('modelo') }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Tipo de Operación</mat-label>
                        <mat-select formControlName="tipoOperacion">
                            @for (tipo of tiposOperacion; track tipo.value) {
                                <mat-option [value]="tipo.value">
                                    {{ tipo.viewValue }}
                                </mat-option>
                            }
                        </mat-select>
                        <mat-error *ngIf="aeronaveForm.get('tipoOperacion')?.touched">
                            {{ getErrorMessage('tipoOperacion') }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Capacidad</mat-label>
                        <input matInput type="number" formControlName="capacidad">
                        <mat-icon matSuffix>people</mat-icon>
                        <mat-error *ngIf="aeronaveForm.get('capacidad')?.touched">
                            {{ getErrorMessage('capacidad') }}
                        </mat-error>
                    </mat-form-field>

                </div>
            </mat-card-content>
        </mat-card>

        <div class="flex justify-end gap-4">
            <button mat-stroked-button type="button" (click)="cancelar()">
                Cancelar
            </button>

            <button
                mat-raised-button
                color="primary"
                type="submit"
                [disabled]="aeronaveForm.invalid || isLoading"
                class="flex items-center gap-2">

                <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
                <span *ngIf="!isLoading">Guardar Aeronave</span>
            </button>
        </div>
    </form>
</div>
